!function(){"use strict";var a=function(b){for(var a in this.input=null,this.inputDisplay=null,this.slider=null,this.sliderWidth=0,this.sliderLeft=0,this.pointerWidth=0,this.pointerR=null,this.pointerL=null,this.activePointer=null,this.selected=null,this.scale=null,this.step=0,this.tipL=null,this.tipR=null,this.timeout=null,this.valRange=!1,this.startValue=!1,this.endValue=!1,this.onStart=!0,this.values={start:null,end:null},this.conf={target:null,values:null,set:null,range:!1,hiddenParent:!1,width:null,scale:!0,labels:!0,tooltip:!0,step:null,disabled:!1,onChange:null},this.cls={container:"rs-container",background:"rs-bg",selected:"rs-selected",pointer:"rs-pointer",scale:"rs-scale",noscale:"rs-noscale",tipl:"rs-tooltip uk-animation-fade uk-animation-fast",tipr:"rs-tooltip uk-animation-fade uk-animation-fast"},this.conf)b.hasOwnProperty(a)&&(this.conf[a]=b[a]);this.conf.hiddenParent||this.init()};a.prototype.init=function(a){return("object"==typeof this.conf.target?this.input=this.conf.target:this.input=document.getElementById(this.conf.target.replace("#","")),this.input)?(this.inputDisplay=getComputedStyle(this.input,null).display,this.input.style.display="none",this.valRange=!(this.conf.values instanceof Array),!this.valRange||this.conf.values.hasOwnProperty("min")&&this.conf.values.hasOwnProperty("max"))?this.createSlider(a):console.log("Missing min or max value..."):console.log("Cannot find target element...")},a.prototype.createSlider=function(a){return this.cls.container=this.cls.container+(this.conf.range?" range-slider":" oneside-slider"),this.slider=b("div",this.cls.container),this.slider.innerHTML='<div class="rs-bg"></div>',this.selected=b("div",this.cls.selected),this.pointerL=b("div",this.cls.pointer,["dir","left"]),this.scale=b("div",this.cls.scale),this.conf.tooltip&&(this.tipL=b("div",this.cls.tipl),this.tipR=b("div",this.cls.tipr),this.pointerL.appendChild(this.tipL)),this.slider.appendChild(this.selected),this.slider.appendChild(this.scale),this.slider.appendChild(this.pointerL),this.conf.range&&(this.pointerR=b("div",this.cls.pointer,["dir","right"]),this.conf.tooltip&&this.pointerR.appendChild(this.tipR),this.slider.appendChild(this.pointerR)),this.input.parentNode.insertBefore(this.slider,this.input.nextSibling),this.conf.width&&(this.slider.style.width=parseInt(this.conf.width)+"px"),this.sliderLeft=this.slider.getBoundingClientRect().left,this.sliderWidth=this.slider.clientWidth,this.pointerWidth=this.pointerL.clientWidth,this.conf.scale||this.slider.classList.add(this.cls.noscale),this.setInitialValues(a)},a.prototype.setInitialValues=function(b){if(this.disabled(this.conf.disabled),this.valRange&&(this.conf.values=d(this.conf)),b||(this.conf.range?(this.conf.values.unshift("\u221E"),this.conf.values.push("\u221E")):this.conf.values.unshift("\u221E")),this.values.start=0,this.values.end=this.conf.range?this.conf.values.length-1:0,this.conf.set&&this.conf.set.length&&e(this.conf)){var a=this.conf.set;this.conf.range?(this.values.start=this.conf.values.indexOf(a[0]),this.values.end=this.conf.set[1]?this.conf.values.indexOf(a[1]):null):this.values.end=this.conf.values.indexOf(a[0])}return this.createScale()},a.prototype.createScale=function(f){this.step=this.sliderWidth/(this.conf.values.length-1);for(var a=0,d=this.conf.values.length;a<d;a++){var e=b("span"),c=b("a");e.appendChild(c),this.scale.appendChild(e),e.style.width=a===d-1?0:this.step+"px",e.style.left=a*this.step+"px",this.conf.labels?c.innerHTML=this.conf.values[a]:(0===a||a===d-1)&&(c.innerHTML=this.conf.values[a]),a+1==d?c.style.marginLeft=-1*c.clientWidth+"px":a>0&&(c.style.marginLeft=-(c.clientWidth/2*1)+"px")}return this.addEvents()},a.prototype.updateScale=function(){this.step=this.sliderWidth/(this.conf.values.length-1);for(var b=this.slider.querySelectorAll("span"),a=0,c=b.length;a<c;a++)b[a].style.width=this.step+"px",b[a].style.left=a*this.step+"px";return this.setValues()},a.prototype.addEvents=function(){var d=this.slider.querySelectorAll("."+this.cls.pointer),e=this.slider.querySelectorAll("span");c(document,"mousemove touchmove",this.move.bind(this)),c(document,"mouseup touchend touchcancel",this.drop.bind(this));for(var a=0,b=d.length;a<b;a++)c(d[a],"mousedown touchstart",this.drag.bind(this));for(var a=0,b=e.length;a<b;a++)c(e[a],"click",this.onClickPiece.bind(this));return this.setValues()},a.prototype.drag=function(a){if(a.preventDefault(),!this.conf.disabled){var b=a.target.getAttribute("data-dir");return"left"===b&&(this.activePointer=this.pointerL),"right"===b&&(this.activePointer=this.pointerR),this.slider.classList.add("sliding")}},a.prototype.move=function(b){if(this.activePointer&&!this.conf.disabled){this.values[this.activePointer];var a=("touchmove"===b.type?b.touches[0].clientX:b.pageX)-this.sliderLeft-this.pointerWidth/2;return(a=Math.round(a/this.step))<=0&&(a=0),a>this.conf.values.length-1&&(a=this.conf.values.length-1),this.conf.range?(this.activePointer===this.pointerL&&(this.values.start=a),this.activePointer===this.pointerR&&(this.values.end=a)):this.values.end=a,this.setValues()}},a.prototype.drop=function(){this.activePointer=null},a.prototype.setValues=function(b,c){var a=this.conf.range?"start":"end";return b&&this.conf.values.indexOf(b)> -1&&(this.values[a]=this.conf.values.indexOf(b)),c&&this.conf.values.indexOf(c)> -1&&(this.values.end=this.conf.values.indexOf(c)),this.conf.range&&this.values.start>this.values.end&&(this.values.start=this.values.end),this.conf.range?(this.conf.tooltip&&(this.tipL.innerHTML=this.conf.values[this.values.start],this.tipR.innerHTML=this.conf.values[this.values.end]),this.input.value=this.conf.values[this.values.start]+","+this.conf.values[this.values.end],0===this.values.start?(this.conf.tooltip&&this.tipL.classList.add("uk-hidden"),this.pointerL.style.left=this.values[a]*this.step+"px"):(this.conf.tooltip&&this.tipL.classList.remove("uk-hidden"),this.pointerL.style.left=this.values[a]*this.step-this.pointerWidth/2+"px"),this.values.end+1==this.conf.values.length?(this.conf.tooltip&&this.tipR.classList.add("uk-hidden"),this.pointerR.style.left=this.values.end*this.step-this.pointerWidth+"px"):(this.conf.tooltip&&this.tipR.classList.remove("uk-hidden"),this.pointerR.style.left=this.values.end*this.step-this.pointerWidth/2+"px")):(this.conf.tooltip&&(this.tipL.innerHTML=this.conf.values[this.values.end]),this.values.end+1==this.conf.values.length?(this.conf.tooltip&&this.tipL.classList.remove("uk-hidden"),this.pointerL.style.left=this.values.end*this.step-this.pointerWidth+"px"):0===this.values.end?(this.conf.tooltip&&this.tipL.classList.add("uk-hidden"),this.pointerL.style.left=this.values[a]*this.step+"px"):(this.tipL.classList.remove("uk-hidden"),this.pointerL.style.left=this.values[a]*this.step-this.pointerWidth/2+"px"),this.input.value=this.conf.values[this.values.end]),this.values.end>this.conf.values.length-1&&(this.values.end=this.conf.values.length-1),this.values.start<0&&(this.values.start=0),this.selected.style.width=(this.values.end-this.values.start)*this.step+"px",this.selected.style.left=this.values.start*this.step+"px",this.onChange()},a.prototype.onClickPiece=function(b){if(!this.conf.disabled){var a=Math.round((b.clientX-this.sliderLeft)/this.step);return a>this.conf.values.length-1&&(a=this.conf.values.length-1),a<0&&(a=0),this.conf.range&&a-this.values.start<=this.values.end-a?this.values.start=a:this.values.end=a,this.slider.classList.remove("sliding"),this.setValues()}},a.prototype.onChange=function(){if(this.onStart){this.onStart=!1,this.startValue=this.conf.values[this.values.start],this.endValue=this.conf.values[this.values.end];return}if(this.startValue!=this.conf.values[this.values.start]||this.endValue!=this.conf.values[this.values.end]){this.startValue=this.conf.values[this.values.start],this.endValue=this.conf.values[this.values.end],this.timeout&&clearTimeout(this.timeout);var a=this;this.timeout=setTimeout(function(){if(a.conf.onChange&&"function"==typeof a.conf.onChange)return a.conf.onChange(a.input.value)},500)}},a.prototype.onResize=function(){return this.sliderLeft=this.slider.getBoundingClientRect().left,this.sliderWidth=this.slider.clientWidth,this.updateScale()},a.prototype.disabled=function(a){this.conf.disabled=a,this.slider.classList[a?"add":"remove"]("disabled")},a.prototype.getValue=function(){return this.input.value},a.prototype.destroy=function(){this.input.style.display=this.inputDisplay,this.slider.remove()};var b=function(d,c,a){var b=document.createElement(d);return c&&(b.className=c),a&&2===a.length&&b.setAttribute("data-"+a[0],a[1]),b},c=function(c,d,e){for(var b=d.split(" "),a=0,f=b.length;a<f;a++)c.addEventListener(b[a],e)},d=function(a){var b=[],d=a.values.max-a.values.min;if(!a.step)return console.log("No step defined..."),[a.values.min,a.values.max];for(var c=0,e=d/a.step;c<e;c++)b.push(a.values.min+c*a.step);return 0>b.indexOf(a.values.max)&&b.push(a.values.max),b},e=function(a){return!(!a.set||a.set.length<1||0>a.values.indexOf(a.set[0])||a.range&&(a.set.length<2||0>a.values.indexOf(a.set[1])))||null};window.rSlider=a}()